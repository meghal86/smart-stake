<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GlobalHeader Layout Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --wallet-slot-width: 180px;
      --profile-slot-width: 40px;
    }
    
    @media (max-width: 430px) {
      :root {
        --wallet-slot-width: 140px;
      }
    }
  </style>
</head>
<body class="bg-slate-950 text-white min-h-screen">
  <h1 class="text-2xl font-bold p-4 text-center">GlobalHeader Layout Test</h1>
  <p class="text-center text-slate-400 mb-8">Testing three-section layout with fixed height and reserved widths</p>

  <!-- Test 1: Loading State (Skeleton) -->
  <section class="mb-12">
    <h2 class="text-xl font-semibold px-4 mb-4">1. Loading State (Skeleton)</h2>
    <header class="h-16 sticky top-0 z-50 bg-slate-900/70 backdrop-blur-md border-b border-white/10" role="banner" aria-label="Global header loading">
      <div class="mx-auto h-full max-w-7xl px-4">
        <div class="grid h-full grid-cols-[auto_1fr_auto] items-center gap-4">
          <!-- Left: Brand skeleton -->
          <div class="flex items-center gap-3">
            <div class="h-8 w-8 animate-pulse rounded-full bg-slate-700"></div>
            <div class="hidden h-6 w-32 animate-pulse rounded bg-slate-700 sm:block"></div>
          </div>

          <!-- Center: Context skeleton -->
          <div class="flex flex-col gap-1">
            <div class="h-5 w-24 animate-pulse rounded bg-slate-700"></div>
            <div class="hidden h-4 w-40 animate-pulse rounded bg-slate-700 md:block"></div>
          </div>

          <!-- Right: Actions skeleton -->
          <div class="flex items-center gap-2">
            <div class="h-10 w-10 animate-pulse rounded-full bg-slate-700"></div>
            <div class="h-10 animate-pulse rounded-full bg-slate-700" style="width: var(--wallet-slot-width)"></div>
            <div class="h-10 w-10 animate-pulse rounded-full bg-slate-700" style="width: var(--profile-slot-width)"></div>
          </div>
        </div>
      </div>
    </header>
  </section>

  <!-- Test 2: S0_GUEST State -->
  <section class="mb-12">
    <h2 class="text-xl font-semibold px-4 mb-4">2. S0_GUEST State (No JWT, No Wallet)</h2>
    <header class="h-16 sticky top-0 z-50 bg-slate-900/70 backdrop-blur-md border-b border-white/10" role="banner">
      <div class="mx-auto h-full max-w-7xl px-4">
        <div class="grid h-full grid-cols-[auto_1fr_auto] items-center gap-4">
          <!-- Brand -->
          <a href="/" class="flex items-center gap-3 min-h-[44px] transition-transform hover:scale-105 rounded-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500">
            <img src="/hero_logo_512.png" alt="AlphaWhale" class="h-8 w-8" onerror="this.style.display='none'">
            <span class="hidden text-lg font-semibold text-white sm:inline">AlphaWhale</span>
          </a>

          <!-- Context -->
          <div class="flex min-w-0 flex-col justify-center">
            <h1 class="truncate text-base font-semibold text-white md:text-lg">Home</h1>
            <p class="hidden truncate text-sm text-slate-400 md:block">Institutional-Grade DeFi Risk Management</p>
          </div>

          <!-- Actions -->
          <div class="flex items-center gap-2">
            <button class="h-10 w-10 rounded-full hover:bg-slate-800 flex items-center justify-center">
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41m11.32-11.32l1.41-1.41"/></svg>
            </button>
            <button class="px-3 py-2 text-sm text-slate-300 hover:text-white">Sign In</button>
            <button class="px-4 py-2 text-sm bg-cyan-500 text-white rounded-md hover:bg-cyan-600">Connect Wallet</button>
          </div>
        </div>
      </div>
    </header>
  </section>

  <!-- Test 3: S2_WALLET State -->
  <section class="mb-12">
    <h2 class="text-xl font-semibold px-4 mb-4">3. S2_WALLET State (Wallet Only, No JWT)</h2>
    <header class="h-16 sticky top-0 z-50 bg-slate-900/70 backdrop-blur-md border-b border-white/10" role="banner">
      <div class="mx-auto h-full max-w-7xl px-4">
        <div class="grid h-full grid-cols-[auto_1fr_auto] items-center gap-4">
          <!-- Brand -->
          <a href="/" class="flex items-center gap-3 min-h-[44px] transition-transform hover:scale-105">
            <img src="/hero_logo_512.png" alt="AlphaWhale" class="h-8 w-8" onerror="this.style.display='none'">
            <span class="hidden text-lg font-semibold text-white sm:inline">AlphaWhale</span>
          </a>

          <!-- Context -->
          <div class="flex min-w-0 flex-col justify-center">
            <h1 class="truncate text-base font-semibold text-white md:text-lg">Guardian</h1>
            <p class="hidden truncate text-sm text-slate-400 md:block">Trust & Safety</p>
          </div>

          <!-- Actions -->
          <div class="flex items-center gap-2">
            <button class="h-10 w-10 rounded-full hover:bg-slate-800 flex items-center justify-center">
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/></svg>
            </button>
            <!-- WalletPill (non-interactive) -->
            <div class="flex h-10 items-center gap-2 rounded-full bg-slate-800 px-3 border border-slate-700" style="width: var(--wallet-slot-width); min-width: var(--wallet-slot-width)">
              <span class="truncate text-sm text-slate-300">0x1234...5678</span>
            </div>
            <button class="px-3 py-2 text-sm border border-cyan-500 text-cyan-400 rounded-md hover:bg-cyan-500/10">Save</button>
            <button class="px-3 py-2 text-sm text-slate-300 hover:text-white">Sign In</button>
          </div>
        </div>
      </div>
    </header>
  </section>

  <!-- Test 4: S3_BOTH State -->
  <section class="mb-12">
    <h2 class="text-xl font-semibold px-4 mb-4">4. S3_BOTH State (JWT + Wallet)</h2>
    <header class="h-16 sticky top-0 z-50 bg-slate-900/70 backdrop-blur-md border-b border-white/10" role="banner">
      <div class="mx-auto h-full max-w-7xl px-4">
        <div class="grid h-full grid-cols-[auto_1fr_auto] items-center gap-4">
          <!-- Brand -->
          <a href="/" class="flex items-center gap-3 min-h-[44px] transition-transform hover:scale-105">
            <img src="/hero_logo_512.png" alt="AlphaWhale" class="h-8 w-8" onerror="this.style.display='none'">
            <span class="hidden text-lg font-semibold text-white sm:inline">AlphaWhale</span>
          </a>

          <!-- Context -->
          <div class="flex min-w-0 flex-col justify-center">
            <h1 class="truncate text-base font-semibold text-white md:text-lg">Portfolio</h1>
            <p class="hidden truncate text-sm text-slate-400 md:block">Overview</p>
          </div>

          <!-- Actions -->
          <div class="flex items-center gap-2">
            <button class="h-10 w-10 rounded-full hover:bg-slate-800 flex items-center justify-center">
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/></svg>
            </button>
            <!-- WalletPill (interactive on Portfolio) -->
            <div class="flex h-10 items-center gap-2 rounded-full bg-slate-800 px-3 border border-slate-700 cursor-pointer hover:bg-slate-700" style="width: var(--wallet-slot-width); min-width: var(--wallet-slot-width)">
              <span class="truncate text-sm text-slate-300">0x1234...5678</span>
            </div>
            <!-- Profile -->
            <div class="h-10 w-10 rounded-full bg-slate-700 flex items-center justify-center" style="width: var(--profile-slot-width)">
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            </div>
          </div>
        </div>
      </div>
    </header>
  </section>

  <!-- Test 5: Mobile View (≤430px) -->
  <section class="mb-12">
    <h2 class="text-xl font-semibold px-4 mb-4">5. Mobile View Test</h2>
    <p class="text-sm text-slate-400 px-4 mb-4">Resize browser to ≤430px to see mobile layout (wordmark hidden, subtitle hidden)</p>
    <header class="h-16 sticky top-0 z-50 bg-slate-900/70 backdrop-blur-md border-b border-white/10" role="banner">
      <div class="mx-auto h-full max-w-7xl px-4">
        <div class="grid h-full grid-cols-[auto_1fr_auto] items-center gap-4">
          <!-- Brand -->
          <a href="/" class="flex items-center gap-3 min-h-[44px]">
            <img src="/hero_logo_512.png" alt="AlphaWhale" class="h-8 w-8" onerror="this.style.display='none'">
            <span class="hidden text-lg font-semibold text-white sm:inline">AlphaWhale</span>
          </a>

          <!-- Context -->
          <div class="flex min-w-0 flex-col justify-center">
            <h1 class="truncate text-base font-semibold text-white">Hunter</h1>
            <p class="hidden truncate text-sm text-slate-400 md:block">High-confidence opportunities</p>
          </div>

          <!-- Actions -->
          <div class="flex items-center gap-2">
            <button class="h-10 w-10 rounded-full hover:bg-slate-800 flex items-center justify-center">
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/></svg>
            </button>
            <button class="px-4 py-2 text-sm bg-cyan-500 text-white rounded-md">Connect</button>
          </div>
        </div>
      </div>
    </header>
  </section>

  <!-- Measurement Tool -->
  <section class="mb-12 px-4">
    <h2 class="text-xl font-semibold mb-4">6. Layout Measurements</h2>
    <div class="bg-slate-800 p-4 rounded-lg">
      <p class="text-sm text-slate-300 mb-2">Header Height: <span id="height" class="text-cyan-400 font-mono">-</span></p>
      <p class="text-sm text-slate-300 mb-2">Wallet Slot Width: <span id="wallet-width" class="text-cyan-400 font-mono">-</span></p>
      <p class="text-sm text-slate-300 mb-2">Profile Slot Width: <span id="profile-width" class="text-cyan-400 font-mono">-</span></p>
      <p class="text-sm text-slate-300">Viewport Width: <span id="viewport-width" class="text-cyan-400 font-mono">-</span></p>
    </div>
  </section>

  <script>
    function measureHeaders() {
      const headers = document.querySelectorAll('header[role="banner"]');
      if (headers.length > 0) {
        const header = headers[0];
        const height = header.offsetHeight;
        document.getElementById('height').textContent = `${height}px`;
        
        const walletSlot = header.querySelector('[style*="wallet-slot-width"]');
        if (walletSlot) {
          document.getElementById('wallet-width').textContent = `${walletSlot.offsetWidth}px`;
        }
        
        const profileSlot = header.querySelector('[style*="profile-slot-width"]');
        if (profileSlot) {
          document.getElementById('profile-slot-width').textContent = `${profileSlot.offsetWidth}px`;
        }
        
        document.getElementById('viewport-width').textContent = `${window.innerWidth}px`;
      }
    }

    measureHeaders();
    window.addEventListener('resize', measureHeaders);
  </script>
</body>
</html>
