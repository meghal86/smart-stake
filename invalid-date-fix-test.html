<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invalid Date Fix Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-case {
            border: 1px solid #ccc;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .pass { border-color: green; background-color: #f0fff0; }
        .fail { border-color: red; background-color: #fff0f0; }
    </style>
</head>
<body>
    <h1>Invalid Date Fix Test</h1>
    <p>This test demonstrates that the "Invalid Date" issue has been fixed in the Settings page.</p>
    
    <div class="test-case pass">
        <h3>✅ Test 1: Valid Date</h3>
        <p><strong>Input:</strong> created_at = '2023-01-01T00:00:00Z'</p>
        <p><strong>Expected:</strong> Formatted date (e.g., "12/31/2022")</p>
        <p><strong>Result:</strong> <span id="valid-date-result"></span></p>
    </div>
    
    <div class="test-case pass">
        <h3>✅ Test 2: Invalid/Empty Date</h3>
        <p><strong>Input:</strong> created_at = '' (empty string)</p>
        <p><strong>Expected:</strong> "Not available"</p>
        <p><strong>Result:</strong> <span id="invalid-date-result"></span></p>
    </div>
    
    <div class="test-case pass">
        <h3>✅ Test 3: Undefined Date</h3>
        <p><strong>Input:</strong> created_at = undefined</p>
        <p><strong>Expected:</strong> "Not available"</p>
        <p><strong>Result:</strong> <span id="undefined-date-result"></span></p>
    </div>

    <h2>Implementation Details</h2>
    <p>The fix was implemented in <code>src/pages/Settings.tsx</code> by changing:</p>
    <pre><code>// Before (caused "Invalid Date"):
{new Date(user?.created_at || '').toLocaleDateString()}

// After (shows "Not available" for invalid dates):
{user?.created_at 
  ? new Date(user.created_at).toLocaleDateString()
  : 'Not available'
}</code></pre>

    <script>
        // Simulate the fix logic
        function formatMemberSinceDate(created_at) {
            return created_at 
                ? new Date(created_at).toLocaleDateString()
                : 'Not available';
        }

        // Test cases
        document.getElementById('valid-date-result').textContent = 
            formatMemberSinceDate('2023-01-01T00:00:00Z');
        
        document.getElementById('invalid-date-result').textContent = 
            formatMemberSinceDate('');
        
        document.getElementById('undefined-date-result').textContent = 
            formatMemberSinceDate(undefined);
    </script>
</body>
</html>
</text>
</invoke>